/**
 * Minified by jsDelivr using Terser v5.37.0.
 * Original file: /npm/walkway.js@0.0.9/src/walkway.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function (t, e) { "function" == typeof define && define.amd ? define(e) : "object" == typeof exports ? module.exports = e() : t.Walkway = e() }(this, (function (t) { "use strict"; var e = 0; window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame, window.cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame, window.requestAnimationFrame || (window.requestAnimationFrame = function (t, n) { var i = (new Date).getTime(), a = Math.max(0, 16 - (i - e)), o = window.setTimeout((function () { t(i + a) }), a); return e = i + a, o }), window.cancelAnimationFrame || (window.cancelAnimationFrame = function (t) { clearTimeout(t) }); var n = { linear: function (t) { return t }, easeInQuad: function (t) { return t * t }, easeOutQuad: function (t) { return t * (2 - t) }, easeInOutQuad: function (t) { return t < .5 ? 2 * t * t : (4 - 2 * t) * t - 1 }, easeInCubic: function (t) { return t * t * t }, easeOutCubic: function (t) { return --t * t * t + 1 }, easeInOutCubic: function (t) { return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1 }, easeInQuart: function (t) { return t * t * t * t }, easeOutQuart: function (t) { return 1 - --t * t * t * t }, easeInOutQuart: function (t) { return t < .5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t }, easeInQuint: function (t) { return t * t * t * t * t }, easeOutQuint: function (t) { return 1 + --t * t * t * t * t }, easeInOutQuint: function (t) { return t < .5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t } }; var i = [], a = []; function o(t) { return this instanceof o ? ("string" == typeof t && (t = { selector: t }), t.selector ? (this.opts = t, this.selector = t.selector, this.duration = t.duration || 500, this.easing = "function" == typeof t.easing ? t.easing : n[t.easing] || n.easeInOutCubic, this.id = !1, this.elements = this.getElements(), this.callback = t.callback, this.setInitialStyles(), i = i.concat(this.elements), void a.push(this)) : this.error("A selector needs to be specified")) : new o(t) } function r(t, e, n) { this.el = t, this.duration = e, this.easing = n, this.animationStart = null, this.animationStarted = !1 } function s(t, e, n) { r.call(this, t, e, n), this.length = t.getTotalLength() } function u(t, e, n) { r.call(this, t, e, n), this.length = function (t) { var e = t.getAttribute("x1"), n = t.getAttribute("x2"), i = t.getAttribute("y1"), a = t.getAttribute("y2"); return Math.sqrt(Math.pow(e - n, 2) + Math.pow(i - a, 2)) }(t) } function c(t, e, n) { r.call(this, t, e, n), this.length = function (t) { var e, n, i, a, o, r = 0, s = t.points.numberOfItems; for (o = 1; o < s; o++)e = t.points.getItem(o - 1).x, n = t.points.getItem(o).x, i = t.points.getItem(o - 1).y, a = t.points.getItem(o).y, r += Math.sqrt(Math.pow(e - n, 2) + Math.pow(i - a, 2)); return r }(t) } return document.addEventListener("visibilitychange", (function () { if (document.hidden) { for (var t = 0, e = a.length; t < e; t++)a[t].cancel(); for (var n = 0, o = i.length; n < o; n++)i[n].complete() } }), !1), o.prototype = { constructor: o, error: function (t) { console.error("Walkway error: " + t) }, getElements: function () { var t = this, e = function (t) { return ["path", "line", "polyline"].reduce((function (e, n) { return e + t + " " + n + ", " }), "").slice(0, -2) }(this.selector), n = document.querySelectorAll(e); return (n = Array.prototype.slice.call(n)).map((function (e) { return "path" === e.tagName ? new s(e, t.duration, t.easing) : "line" === e.tagName ? new u(e, t.duration, t.easing) : "polyline" === e.tagName ? new c(e, t.duration, t.easing) : void 0 })) }, setInitialStyles: function () { this.elements.forEach((function (t) { t.el.style.strokeDasharray = t.length + " " + t.length, t.el.style.strokeDashoffset = t.length })) }, draw: function (t) { var e = this.elements.length, n = this.elements.filter((function (t) { return t.done })).length === e, i = null; if (this.callback = t || this.callback, n) return this.callback && "function" == typeof this.callback && this.callback(), void this.cancel(); for (; e--;)(i = this.elements[e]).update() && (i.done = !0); this.id = window.requestAnimationFrame(this.draw.bind(this, t)) }, cancel: function () { window.cancelAnimationFrame(this.id) }, redraw: function () { this.cancel(), this.elements.forEach((function (t) { t.reset() })), this.draw() } }, r.prototype = { constructor: r, update: function () { this.animationStarted || (this.animationStart = Date.now(), this.animationStarted = !0); var t = this.easing((Date.now() - this.animationStart) / this.duration); return this.fill(t), t >= 1 }, fill: function (t) { var e = Math.ceil(this.length * (1 - t)); this.el.style.strokeDashoffset = e < 0 ? 0 : Math.abs(e) }, complete: function () { this.fill(1) }, reset: function () { this.done = !1, this.animationStart = 0, this.animationStarted = !1, this.fill(0) } }, s.prototype = u.prototype = c.prototype = Object.create(r.prototype), o }));
//# sourceMappingURL=/sm/b12c265301aba75cb635f4b2735ec6fd3f808970100f5e35981b112e9d2dacf3.map